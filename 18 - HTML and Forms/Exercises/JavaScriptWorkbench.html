<textarea name="" id="" cols="30" rows="10"></textarea>
<button>Run</button><br><br>
<p></p>

<script>
    /* A JavaScript workbench
    Build an interface that allows people to type and run pieces of JavaScript code.
    Put a button next to a <textarea> field that, when pressed, uses the Function
    constructor we saw in Chapter 10 to wrap the text in a function and call it.
    Convert the return value of the function, or any error it raises, to a string and
    display it below the text field. */

    const run = document.querySelector('button');
    const p = document.querySelector('p');

    function evalAndReturn(code) {
        try {
            return eval(code);
        } catch (error) {
            return error;
        }
    }

    run.addEventListener('click', () => {
        let code = document.querySelector('textarea').value;
        let output = String(evalAndReturn(code));
        p.innerHTML = output;
    });
</script>